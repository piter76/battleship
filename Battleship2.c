/*settings*{"name":"Statki","author":"Piter76","image":[0,0,0,0,0,114,119,32,0,0,0,0,0,0,0,0,0,114,34,32,0,0,0,0,0,0,0,0,0,34,34,47,240,0,0,0,0,0,0,0,0,0,0,191,255,0,0,0,0,0,0,0,0,0,0,11,255,240,12,204,0,0,0,0,0,0,0,0,191,255,204,204,0,0,0,0,0,0,0,0,11,255,252,204,17,17,0,0,0,0,0,0,0,191,255,204,15,255,17,17,0,0,0,0,0,11,252,204,0,255,255,241,17,16,0,0,0,11,204,204,0,15,255,255,245,255,255,255,255,255,255,255,0,0,255,255,85,95,255,255,255,255,255,255,0,0,15,245,245,245,255,255,255,255,255,255,0,0,0,255,241,255,255,255,255,241,239,255,1,225,0,14,238,239,241,239,254,238,238,255,238,238,238,238,238,238,238,238,238,238,238,238]}*/

char ship1[] = {
0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x0c, 0xcc, 0xcc, 0xcc, 
0x00, 0xcb, 0xbb, 0xbb, 0xbc, 
0x0c, 0xb2, 0x22, 0x72, 0xbc, 
0xcf, 0x22, 0x77, 0x72, 0xbc, 
0x0c, 0xf2, 0x22, 0x72, 0xbc, 
0x00, 0xcf, 0xff, 0xff, 0xbc, 
0x00, 0x0c, 0xcc, 0xcc, 0xcc, 
0x00, 0x00, 0x00, 0x00, 0x00
};

char ship1_[] = {
0x00, 0x00, 0x0c, 0x00, 0x00, 
0x00, 0x00, 0xcf, 0xc0, 0x00, 
0x00, 0x0c, 0xf2, 0xbc, 0x00, 
0x00, 0xcf, 0x22, 0x2b, 0xc0, 
0x00, 0xcf, 0x27, 0x2b, 0xc0, 
0x00, 0xcf, 0x27, 0x2b, 0xc0, 
0x00, 0xcf, 0x77, 0x7b, 0xc0, 
0x00, 0xcf, 0x22, 0x2b, 0xc0, 
0x00, 0xcb, 0xbb, 0xbb, 0xc0, 
0x00, 0xcc, 0xcc, 0xcc, 0xc0
};

char ship2[] = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x0c, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 
0x00, 0xcb, 0xbb, 0xbb, 0xbc, 0xbb, 0xbb, 0xbb, 0xbb, 0xbc, 
0x0c, 0xb5, 0x55, 0x95, 0xbc, 0xf5, 0x55, 0x59, 0x55, 0xbc, 
0xcf, 0x55, 0x99, 0x95, 0xbc, 0xf5, 0x59, 0x99, 0x55, 0xbc, 
0x0c, 0xf5, 0x55, 0x95, 0xbc, 0xf5, 0x55, 0x59, 0x55, 0xbc, 
0x00, 0xcf, 0xff, 0xff, 0xbc, 0xff, 0xff, 0xff, 0xff, 0xbc, 
0x00, 0x0c, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

char ship2_[] = {
0x00, 0x00, 0x0c, 0x00, 0x00, 
0x00, 0x00, 0xcf, 0xc0, 0x00, 
0x00, 0x0c, 0xf5, 0xbc, 0x00, 
0x00, 0xcf, 0x55, 0x5b, 0xc0, 
0x00, 0xcf, 0x59, 0x5b, 0xc0, 
0x00, 0xcf, 0x59, 0x5b, 0xc0, 
0x00, 0xcf, 0x99, 0x9b, 0xc0, 
0x00, 0xcf, 0x55, 0x5b, 0xc0, 
0x00, 0xcb, 0xbb, 0xbb, 0xc0, 
0x00, 0xcc, 0xcc, 0xcc, 0xc0, 
0x00, 0xcf, 0xff, 0xfb, 0xc0, 
0x00, 0xcf, 0x55, 0x5b, 0xc0, 
0x00, 0xcf, 0x55, 0x5b, 0xc0, 
0x00, 0xcf, 0x59, 0x5b, 0xc0, 
0x00, 0xcf, 0x59, 0x5b, 0xc0, 
0x00, 0xcf, 0x99, 0x9b, 0xc0, 
0x00, 0xcf, 0x55, 0x5b, 0xc0, 
0x00, 0xcf, 0x55, 0x5b, 0xc0, 
0x00, 0xcb, 0xbb, 0xbb, 0xc0, 
0x00, 0xcc, 0xcc, 0xcc, 0xc0
};

char ship3[] = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x0c, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 
0x00, 0xcb, 0xbb, 0xbb, 0xbc, 0xfb, 0xbb, 0xbb, 0xbb, 0xbc, 0xfb, 0xbb, 0xbb, 0xbb, 0xbc, 
0x0c, 0xbe, 0xee, 0x6e, 0xbc, 0xfe, 0xee, 0xe6, 0xee, 0xbc, 0xfe, 0xee, 0xe6, 0xee, 0xbc, 
0xcf, 0xee, 0x66, 0x6e, 0xbc, 0xfe, 0xe6, 0x66, 0xee, 0xbc, 0xfe, 0xe6, 0x66, 0xee, 0xbc, 
0x0c, 0xfe, 0xee, 0x6e, 0xbc, 0xfe, 0xee, 0xe6, 0xee, 0xbc, 0xfe, 0xee, 0xe6, 0xee, 0xbc, 
0x00, 0xcf, 0xff, 0xff, 0xbc, 0xff, 0xff, 0xff, 0xff, 0xbc, 0xff, 0xff, 0xff, 0xff, 0xbc, 
0x00, 0x0c, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

char ship3_[] = {
0x00, 0x00, 0x0c, 0x00, 0x00, 
0x00, 0x00, 0xcf, 0xc0, 0x00, 
0x00, 0x0c, 0xfe, 0xbc, 0x00, 
0x00, 0xcf, 0xee, 0xeb, 0xc0, 
0x00, 0xcf, 0xe6, 0xeb, 0xc0, 
0x00, 0xcf, 0xe6, 0xeb, 0xc0, 
0x00, 0xcf, 0x66, 0x6b, 0xc0, 
0x00, 0xcf, 0xee, 0xeb, 0xc0, 
0x00, 0xcb, 0xbb, 0xbb, 0xc0, 
0x00, 0xcc, 0xcc, 0xcc, 0xc0, 
0x00, 0xcf, 0xff, 0xfb, 0xc0, 
0x00, 0xcf, 0xee, 0xeb, 0xc0, 
0x00, 0xcf, 0xee, 0xeb, 0xc0, 
0x00, 0xcf, 0xe6, 0xeb, 0xc0, 
0x00, 0xcf, 0xe6, 0xeb, 0xc0, 
0x00, 0xcf, 0x66, 0x6b, 0xc0, 
0x00, 0xcf, 0xee, 0xeb, 0xc0, 
0x00, 0xcf, 0xee, 0xeb, 0xc0, 
0x00, 0xcb, 0xbb, 0xbb, 0xc0, 
0x00, 0xcc, 0xcc, 0xcc, 0xc0, 
0x00, 0xcf, 0xff, 0xfb, 0xc0, 
0x00, 0xcf, 0xee, 0xeb, 0xc0, 
0x00, 0xcf, 0xee, 0xeb, 0xc0, 
0x00, 0xcf, 0xe6, 0xeb, 0xc0, 
0x00, 0xcf, 0xe6, 0xeb, 0xc0, 
0x00, 0xcf, 0x66, 0x6b, 0xc0, 
0x00, 0xcf, 0xee, 0xeb, 0xc0, 
0x00, 0xcf, 0xee, 0xeb, 0xc0, 
0x00, 0xcb, 0xbb, 0xbb, 0xc0, 
0x00, 0xcc, 0xcc, 0xcc, 0xc0
};

char ship4[] = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x0c, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 
0x00, 0xcb, 0xbb, 0xbb, 0xbc, 0xfb, 0xbb, 0xbb, 0xbb, 0xbc, 0xfb, 0xbb, 0xbb, 0xbb, 0xbc, 0xfb, 0xbb, 0xbb, 0xbb, 0xbc, 
0x0c, 0xb8, 0x88, 0x68, 0xbc, 0xf8, 0x88, 0x86, 0x88, 0xbc, 0xf8, 0x88, 0x86, 0x88, 0xbc, 0xf8, 0x88, 0x86, 0x88, 0xbc, 
0xcf, 0x88, 0x66, 0x68, 0xbc, 0xf8, 0x86, 0x66, 0x88, 0xbc, 0xf8, 0x86, 0x66, 0x88, 0xbc, 0xf8, 0x86, 0x66, 0x88, 0xbc, 
0x0c, 0xf8, 0x88, 0x68, 0xbc, 0xf8, 0x88, 0x86, 0x88, 0xbc, 0xf8, 0x88, 0x86, 0x88, 0xbc, 0xf8, 0x88, 0x86, 0x88, 0xbc, 
0x00, 0xcf, 0xff, 0xff, 0xbc, 0xff, 0xff, 0xff, 0xff, 0xbc, 0xff, 0xff, 0xff, 0xff, 0xbc, 0xff, 0xff, 0xff, 0xff, 0xbc, 
0x00, 0x0c, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 0xcc, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

char ship4_[] = {
0x00, 0x00, 0x0c, 0x00, 0x00, 
0x00, 0x00, 0xcf, 0xc0, 0x00, 
0x00, 0x0c, 0xf8, 0xbc, 0x00, 
0x00, 0xcf, 0x88, 0x8b, 0xc0, 
0x00, 0xcf, 0x86, 0x8b, 0xc0, 
0x00, 0xcf, 0x86, 0x8b, 0xc0, 
0x00, 0xcf, 0x66, 0x6b, 0xc0, 
0x00, 0xcf, 0x88, 0x8b, 0xc0, 
0x00, 0xcb, 0xbb, 0xbb, 0xc0, 
0x00, 0xcc, 0xcc, 0xcc, 0xc0, 
0x00, 0xcf, 0xff, 0xfb, 0xc0, 
0x00, 0xcf, 0x88, 0x8b, 0xc0, 
0x00, 0xcf, 0x88, 0x8b, 0xc0, 
0x00, 0xcf, 0x86, 0x8b, 0xc0, 
0x00, 0xcf, 0x86, 0x8b, 0xc0, 
0x00, 0xcf, 0x66, 0x6b, 0xc0, 
0x00, 0xcf, 0x88, 0x8b, 0xc0, 
0x00, 0xcf, 0x88, 0x8b, 0xc0, 
0x00, 0xcb, 0xbb, 0xbb, 0xc0, 
0x00, 0xcc, 0xcc, 0xcc, 0xc0, 
0x00, 0xcf, 0xff, 0xfb, 0xc0, 
0x00, 0xcf, 0x88, 0x8b, 0xc0, 
0x00, 0xcf, 0x88, 0x8b, 0xc0, 
0x00, 0xcf, 0x86, 0x8b, 0xc0, 
0x00, 0xcf, 0x86, 0x8b, 0xc0, 
0x00, 0xcf, 0x66, 0x6b, 0xc0, 
0x00, 0xcf, 0x88, 0x8b, 0xc0, 
0x00, 0xcf, 0x88, 0x8b, 0xc0, 
0x00, 0xcb, 0xbb, 0xbb, 0xc0, 
0x00, 0xcc, 0xcc, 0xcc, 0xc0, 
0x00, 0xcf, 0xff, 0xff, 0xc0, 
0x00, 0xcf, 0x88, 0x8b, 0xc0, 
0x00, 0xcf, 0x88, 0x8b, 0xc0, 
0x00, 0xcf, 0x86, 0x8b, 0xc0, 
0x00, 0xcf, 0x86, 0x8b, 0xc0, 
0x00, 0xcf, 0x66, 0x6b, 0xc0, 
0x00, 0xcf, 0x88, 0x8b, 0xc0, 
0x00, 0xcf, 0x88, 0x8b, 0xc0, 
0x00, 0xcb, 0xbb, 0xbb, 0xc0, 
0x00, 0xcc, 0xcc, 0xcc, 0xc0
};

char sea1[] = {
0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 
0x33, 0x31, 0x13, 0xe3, 0x3e, 0x33, 0x33, 0x33, 0x33, 0x33, 
0x33, 0x13, 0x33, 0x33, 0x31, 0x33, 0xe3, 0x33, 0x33, 0x33, 
0x33, 0x3e, 0x33, 0x13, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 
0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 
0x3e, 0x33, 0x3e, 0xe3, 0x33, 0xee, 0x33, 0xe3, 0x33, 0x33, 
0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 
0x33, 0x33, 0x33, 0x33, 0xee, 0x33, 0x33, 0x33, 0x33, 0x33, 
0x33, 0xe3, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 
0x33, 0x33, 0x33, 0xe3, 0x33, 0x33, 0x11, 0x33, 0x33, 0x33, 
0x33, 0xee, 0x33, 0x33, 0x33, 0x3e, 0xe3, 0x33, 0x33, 0x33, 
0x33, 0x33, 0x33, 0x13, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 
0x33, 0x33, 0x31, 0xe3, 0x33, 0x33, 0xe3, 0x33, 0x33, 0x33, 
0x3e, 0xe3, 0xe3, 0x33, 0xe3, 0x33, 0x33, 0xe3, 0x33, 0x33, 
0x33, 0x33, 0x33, 0x3e, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 
0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 
0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 
0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 
0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 
0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33
};

char sea2[] = {
0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 
0x33, 0x3e, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 
0x33, 0xe3, 0x13, 0x33, 0x31, 0x33, 0xe3, 0x33, 0x13, 0x13, 
0x33, 0x31, 0x33, 0x33, 0x33, 0x33, 0x33, 0x31, 0x31, 0x33, 
0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x3e, 0x33, 
0x3e, 0x33, 0x3e, 0x33, 0x33, 0x3e, 0x33, 0xe3, 0xe3, 0xe3, 
0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 
0x33, 0x31, 0x33, 0x33, 0xe3, 0x33, 0x33, 0x33, 0x33, 0x33, 
0x33, 0xe3, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 
0x33, 0x33, 0x33, 0xe3, 0x33, 0x33, 0x11, 0x33, 0x33, 0x33, 
0x33, 0x33, 0x33, 0x33, 0x33, 0x3e, 0xe3, 0x33, 0x33, 0x33, 
0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 
0x33, 0x33, 0x33, 0x31, 0x33, 0x33, 0xe3, 0x33, 0x33, 0x33, 
0x3e, 0xe3, 0xe3, 0x33, 0x33, 0x33, 0x33, 0xe1, 0x13, 0x33, 
0x33, 0x33, 0x33, 0x3e, 0x33, 0x33, 0x33, 0x33, 0x31, 0x33, 
0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 
0x33, 0x33, 0x33, 0x33, 0x33, 0x31, 0x13, 0x33, 0x33, 0x33, 
0x33, 0x33, 0x33, 0x33, 0x33, 0x1e, 0x33, 0x33, 0x33, 0x33, 
0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 
0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33
};

char sea3[] ={
0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 
0x33, 0x3e, 0x33, 0x33, 0x33, 0x33, 0x33, 0x13, 0x33, 0x33, 
0x33, 0xe3, 0x33, 0x33, 0x33, 0x33, 0x3e, 0xe3, 0x33, 0x33, 
0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 
0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 
0x3e, 0x33, 0x3e, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 
0x33, 0x33, 0x33, 0x33, 0x31, 0x13, 0x33, 0x33, 0x33, 0x33, 
0x33, 0x13, 0x33, 0x33, 0x33, 0xe1, 0x33, 0x33, 0x33, 0x33, 
0x33, 0xe3, 0x33, 0x33, 0x33, 0xe3, 0x33, 0x33, 0x33, 0x33, 
0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 
0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 
0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x13, 0x33, 0x33, 
0x33, 0x33, 0x33, 0x33, 0x33, 0x3e, 0x33, 0x33, 0x33, 0x33, 
0x3e, 0xe3, 0x33, 0x33, 0x33, 0x33, 0x3e, 0x31, 0x33, 0x33, 
0x33, 0x33, 0x33, 0x3e, 0x33, 0x33, 0x33, 0xe3, 0x33, 0x33, 
0x33, 0x11, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 
0x33, 0xe3, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 
0x33, 0x3e, 0x13, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 
0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 
0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33
};

int sea[] = {sea1,sea2,sea3};
	
char ship_c4[] = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xf0, 
0x00, 0x0f, 0x88, 0x8f, 0x88, 0x88, 0xf8, 0x88, 0x8f, 0x88, 0x88, 0xf0, 
0x00, 0xf8, 0x88, 0x8f, 0x88, 0x88, 0xf8, 0x88, 0x8f, 0x88, 0x88, 0xf0, 
0x00, 0xf8, 0x8b, 0xbf, 0x88, 0xbb, 0xf8, 0x8b, 0xbf, 0x88, 0xbb, 0xf0, 
0x00, 0xf8, 0x88, 0x8f, 0x88, 0x88, 0xf8, 0x88, 0x8f, 0x88, 0x88, 0xf0, 
0x00, 0x0f, 0x88, 0x8f, 0x88, 0x88, 0xf8, 0x88, 0x8f, 0x88, 0x88, 0xf0, 
0x00, 0x00, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xf0, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

char ship_c3[] = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x00, 0x00, 0x00, 
0x00, 0x0f, 0xee, 0xef, 0xee, 0xee, 0xfe, 0xee, 0xef, 0x00, 0x00, 0x00, 
0x00, 0xfe, 0xee, 0xef, 0xee, 0xee, 0xfe, 0xee, 0xef, 0x00, 0x00, 0x00, 
0x00, 0xfe, 0xeb, 0xbf, 0xee, 0xbb, 0xfe, 0xeb, 0xbf, 0x00, 0x00, 0x00, 
0x00, 0xfe, 0xee, 0xef, 0xee, 0xee, 0xfe, 0xee, 0xef, 0x00, 0x00, 0x00, 
0x00, 0x0f, 0xee, 0xef, 0xee, 0xee, 0xfe, 0xee, 0xef, 0x00, 0x00, 0x00, 
0x00, 0x00, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

char ship_c2[] = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0xff, 0xff, 0xff, 0xff, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x0f, 0x55, 0x5f, 0x55, 0x55, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0xf5, 0x55, 0x5f, 0x55, 0x55, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0xf5, 0x5b, 0xbf, 0x55, 0xbb, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0xf5, 0x55, 0x5f, 0x55, 0x55, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x0f, 0x55, 0x5f, 0x55, 0x55, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0xff, 0xff, 0xff, 0xff, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

char ship_c1[] = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0xff, 0xff, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x0f, 0x22, 0x22, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0xf2, 0x22, 0x22, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0xf2, 0x22, 0xbb, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0xf2, 0x22, 0x22, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x0f, 0x22, 0x22, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0xff, 0xff, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};


char fire1[] = {
0x00, 0x81, 0x00, 0x00, 0x00, 
0xa1, 0x87, 0x11, 0x27, 0x20, 
0x0a, 0x70, 0x71, 0x10, 0x00, 
0x1a, 0x77, 0x71, 0x00, 0x00, 
0x17, 0x7a, 0x07, 0x87, 0x00, 
0x27, 0x27, 0x78, 0x20, 0x00, 
0x02, 0xaa, 0x28, 0x80, 0xa0, 
0x02, 0x72, 0x22, 0xa2, 0x00, 
0x00, 0x2a, 0x22, 0xaa, 0xa0, 
0x00, 0x0a, 0x22, 0x0a, 0x22
};


char fire2[] = {
0x00, 0x07, 0x00, 0x17, 0x22, 
0x00, 0x07, 0x11, 0x00, 0x10, 
0x00, 0x20, 0x01, 0x17, 0x82, 
0x02, 0x77, 0x71, 0x07, 0x00, 
0x00, 0x7a, 0x07, 0x87, 0xa1, 
0x02, 0x0a, 0x78, 0x8a, 0x27, 
0x02, 0xa2, 0x80, 0x02, 0xa0, 
0x02, 0x2a, 0xaa, 0xa2, 0x02, 
0x20, 0x2a, 0x0a, 0x02, 0x20, 
0x22, 0x2a, 0xa2, 0x00, 0x00
};

char fire3[] ={
0x00, 0xa1, 0x00, 0x10, 0x00, 
0x01, 0x07, 0x11, 0x00, 0x10, 
0x00, 0x10, 0x01, 0x17, 0x00, 
0x02, 0x77, 0x71, 0x07, 0x00, 
0x00, 0x7a, 0x07, 0x87, 0x00, 
0x02, 0x0a, 0x7a, 0x8a, 0x00, 
0x00, 0xa2, 0x80, 0x02, 0x00, 
0x00, 0x2a, 0xa0, 0xa0, 0x00, 
0x00, 0x2a, 0x0a, 0xa0, 0x00, 
0x00, 0x0a, 0x22, 0x20, 0x00
};

int fire[] = {fire1,fire2, fire3};
	
char mist1[] = {
0x3e, 0xe3, 0x33, 0xee, 
0x31, 0xe1, 0x3e, 0x13, 
0xe3, 0x1e, 0xe1, 0x3e, 
0x1e, 0x31, 0x11, 0xe1, 
0x31, 0xee, 0x13, 0x13, 
0x33, 0x11, 0x13, 0x33, 
0x33, 0x33, 0x13, 0x33, 
0x33, 0x11, 0x11, 0x13
};

char mist[] = {
0x13, 0x33, 0x33, 0x11, 
0x33, 0x11, 0x31, 0xe3, 
0x31, 0x3e, 0x16, 0x31, 
0x13, 0x66, 0x63, 0x1e, 
0x11, 0xe6, 0x61, 0xe3, 
0x3e, 0x1e, 0x1e, 0xe1, 
0x13, 0x33, 0x33, 0x1e, 
0x31, 0x13, 0x13, 0xe3
};

char cursor[] = {
0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x02, 0x22, 0x22, 0x00, 
0x00, 0x2a, 0x00, 0x0a, 0x20, 
0x02, 0xa2, 0xa0, 0xa2, 0xa2, 
0x02, 0x0a, 0x2a, 0x2a, 0x02, 
0x02, 0x00, 0xa2, 0xa0, 0x02, 
0x02, 0x0a, 0x2a, 0x2a, 0x02, 
0x02, 0xa2, 0xa0, 0xa2, 0xa2, 
0x00, 0x2a, 0x00, 0x0a, 0x20, 
0x00, 0x02, 0x22, 0x22, 0x00
};

char bomb[] = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x0c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x0c, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x0c, 0x7c, 0x00, 0x00, 0x00, 0x00, 0x01, 0x11, 0x11, 0x00, 0x00, 0x00, 
0x0c, 0x77, 0xc0, 0x00, 0x01, 0x11, 0x1f, 0xff, 0xff, 0x11, 0x1a, 0x00, 
0x0c, 0x77, 0x7c, 0x11, 0x1f, 0xff, 0xff, 0x11, 0x1f, 0xff, 0xf2, 0xa0, 
0x0c, 0xcc, 0xcc, 0x1f, 0xff, 0xff, 0xfc, 0xcc, 0xcc, 0xff, 0xf2, 0x2a, 
0x0c, 0x77, 0x7c, 0xcc, 0xcf, 0xff, 0xff, 0xff, 0xff, 0xff, 0xf2, 0x20, 
0x0c, 0x77, 0xc0, 0x00, 0x0c, 0xcc, 0xcf, 0xff, 0xff, 0xcc, 0xc2, 0x00, 
0x0c, 0x7c, 0x00, 0x00, 0x00, 0x00, 0x0c, 0xcc, 0xcc, 0x00, 0x00, 0x00, 
0x0c, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x0c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

//char font[] = {/*bit:128:18*/0x4,0xaa,0x68,0xc4,0x28,0xa0,0x0,0x2,0x64,0xcc,0xae,0x6e,0xee,0x0,0x20,0x8e,0x4,0xae,0xc2,0xc4,0x44,0x44,0x0,0x2,0xac,0x22,0xa8,0x82,0xaa,0x44,0x4e,0x42,0x4,0xa,0x64,0xe0,0x44,0xae,0xe,0x4,0xa4,0x44,0xec,0xe4,0xee,0x0,0x80,0x24,0x0,0xe,0xc8,0xa0,0x44,0x4,0x40,0x8,0xa4,0x82,0x22,0xa8,0xa2,0x44,0x4e,0x40,0x4,0xa,0x42,0x60,0x28,0x0,0x80,0x48,0xc4,0xec,0x2c,0xe8,0xec,0x8,0x20,0x84,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x44,0xc6,0xce,0xe6,0xae,0x2a,0x8a,0xa4,0xc4,0xc6,0xea,0xaa,0xaa,0xee,0xe,0x40,0xaa,0xa8,0xa8,0x88,0xa4,0x2a,0x8e,0xea,0xaa,0xa8,0x4a,0xaa,0xaa,0x28,0x82,0xa0,0xee,0xc8,0xae,0xee,0xe4,0x2c,0x8e,0xea,0xca,0xe4,0x4a,0xae,0x44,0x48,0x42,0x0,0x8a,0xa8,0xa8,0x8a,0xa4,0xaa,0x8a,0xea,0x8e,0xc2,0x4a,0x4e,0xa4,0x88,0x22,0x0,0x6a,0xc6,0xce,0x86,0xae,0x4a,0xea,0xa4,0x86,0xac,0x46,0x4a,0xa4,0xee,0xe,0xe,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x80,0x80,0x20,0x20,0x84,0x28,0xc0,0x0,0x0,0x0,0x40,0x0,0x0,0x6,0x4c,0x6e,0x4c,0xc6,0x66,0x46,0xc0,0xa,0x4e,0xc4,0xc6,0x66,0xea,0xaa,0xaa,0xe4,0x44,0xce,0x6,0xa8,0xaa,0xea,0xa4,0x2c,0x4e,0xaa,0xaa,0x8c,0x4a,0xae,0x4a,0x68,0x2,0xe,0xa,0xa8,0xac,0x4e,0xa4,0x2c,0x4e,0xaa,0xaa,0x86,0x4a,0xee,0x46,0xc4,0x44,0xe,0xe,0xc6,0x66,0x42,0xa4,0xaa,0xea,0xa4,0xc6,0x8c,0x66,0x4e,0xa2,0xe6,0x4c,0xe,0x0,0x0,0x0,0x4,0x0,0x40,0x0,0x0,0x82,0x0,0x0,0x0,0x4,0x0,0x0,0x0};


#define X_OFF 1
#define Y_OFF 2
#define CELL_SIZE 10
#define SHOOTS 40

char sndok[] = "s:d=4,o=6,b=635:f,f#,g";
char shtSnd[] = "s:d=4,o=5,b=900:32d,32a#,32f,32a,32d#,32f#,8f,8e,8d,8c";
char keySnd[] = "s:d=4,o=4,b=900:d#,f,b";
char boom[] = "s:d=4,o=4,b=400:32d,32a#,32f,32a,32d#,32f#,8f,8e,8d,8c";

char splash[] = "s:d=4,o=6,b=900:32c#,32d,32d#,32e,32d#,32d,32c#";
char put[] = "t:d=1,o=4,b=100:32d,32f#";

//char song[] = "StarWars:d=4,o=5,b=45:32p,32f#,32f#,32f#,8b.,8f#.6,32e6,32d#6,32c#6,8b.6,16f#.6,32e6,32d#6,32c#6,8b.6,16f#.6,32e6,32d#6,32e6,8c#.6,32f#,32f#,32f#,8b.,8f#.6,32e6,32d#6,32c#6,8b.6,16f#.6,32e6,32d#6,32c#6,8b.6,16f#.6,32e6,32d#6,32e6,8c#6";


//char put[] = "s:d=4,o=4,b=400:32d,32a#,32f,32a,32d#,32f#,8f,8e,8d,8c";

char buffer[6];
int offset_x = X_OFF;
int offset_y = Y_OFF;
int cell_size = CELL_SIZE;
//int ship_size = 1;
int round = 0;
int shoots = 30;
int win = 0;


int player1_field[10][10];
int player1_shoot[10][10];

int pos_kor[] = {0,-5,0,5,10};

int ship_img1[] = {0, ship1, ship2, ship3, ship4};
int ship_img2[] = {0, ship1_, ship2_, ship3_, ship4_};
	
int ship_count[] = {0, 4, 3, 2, 1};
int shoot_ship_count[] = {0, 0, 0, 0, 0};	
			
int cx, cy, key, lastkey, delaykey, refresh;

void delay(int t){
	while(t > 0){
		key = getkey();
		delayredraw();
		t = t - 1;
	}
}

void fillelipse(int x, int y, int radius, int size, int color){
	
	setcolor(color);
	fillcircle(x, y, radius); 
	fillcircle(x + size, y, radius);
	fillrect(x, y-radius, x + size, y + radius);
}

void player_field_clear(){
	int x,y;
	for(x=0; x<10; x++){
		for(y=0; y<10; y++){
			player1_field[x][y] = 0;
			player1_shoot[x][y] = 0;
		}
	}
}


void redraw_ships(){
	int x, y, ship_size = 0;
	for(x=0; x<10; x++){
		for(y=0; y<10; y++){
			
			ship_size = player1_field[x][y];
			
			if(ship_size != 0 && ship_size < 8){
				if(ship_size  < 0) {
					ship_size = ship_size * (-1);
					putimage(ship_img2[ship_size], CELL_SIZE*x+X_OFF, CELL_SIZE*y+Y_OFF, 10, 10*ship_size);
				} else {
					putimage(ship_img1[ship_size], CELL_SIZE*x+X_OFF, CELL_SIZE*y+Y_OFF, 10*ship_size, 10);
				} 								
			}
		}
	}
}


void redraw_shoots(){	
	int x,y;
	for(x=0; x<10; x++){
		for(y=0; y<10; y++){
			if(player1_shoot[x][y] == 1){
				putimage(mist, CELL_SIZE*x+X_OFF+1, CELL_SIZE*y+Y_OFF+1, 8, 8);
			} else if(player1_shoot[x][y] == 2){ 
				putimage(fire[random(2)], CELL_SIZE*x+X_OFF, CELL_SIZE*y+Y_OFF, 10, 10);
			}
		}
	}
}

void player_save(int x_, int y_, int ship_size, int orient){
	int x, y;
	
	if(orient == 1){ //poziomo
		player1_field[x_][y_] = ship_size;
		
		if(ship_size > 1) {
			for(x = x_; x < x_+ship_size; x++) {
				if(player1_field[x][y_] == 0){
					player1_field[x][y_] = ship_size*10;
				} 
			}
		}	
			
		for(x = x_-1; x < x_+ship_size+1; x++) {
			
			if(x>=0 && x<10 && player1_field[x][y_] == 0){
				player1_field[x][y_] = 9;
			}
			if(y_ < 10 && x>=0 && x<10 && player1_field[x][y_+1] == 0){
				player1_field[x][y_+1] = 9;
			}
			if(y_ >= 1 && x>=0 && x<10 && player1_field[x][y_-1] == 0){
				player1_field[x][y_-1] = 9;
			}
		}
	}


	if(orient == 0){ //pionowo
		player1_field[x_][y_] = ship_size * (-1) ;
		
		if(ship_size > 1) {
			for(y = y_; y < y_+ship_size; y++) {
				if(player1_field[x_][y] == 0){
					player1_field[x_][y] = ship_size*10;
				} 
			}
		}
	
		for(y = y_-1; y < y_+ship_size+1; y++) {
			if(y>=0 && y<10 && player1_field[x_][y] == 0){
				player1_field[x_][y] = 9;
			}
			if(x_ < 10 && y>=0 && y<10 && player1_field[x_+1][y] == 0){
				player1_field[x_+1][y] = 9;
			}
			if(x_ >= 1 && y>=0 && y<10 && player1_field[x_-1][y] == 0){
				player1_field[x_-1][y] = 9;
			}
		}
	}
}

int check_ship(int x_, int y_, int ship_size, int orient){
	int x, y, test = 0;
	
	if(orient == 1){
		for(x = x_; x < x_+ship_size; x++) {
			
			if(player1_field[x][y_] != 0){
				test++;
			}
		}
	}

	if(orient == 0){
		for(y = y_; y < y_+ship_size; y++) {
			if(player1_field[x_][y] != 0){
				test++;
			}
		}
	}
	return test;
}

void put_random_ship(int ship_size){
	int x, y, o;
	do{
		x = random(10 - ship_size);
		y = random(10 - ship_size);
		o = random(1);
	}while(check_ship(x, y, ship_size, o) != 0);
	
	player_save(x, y, ship_size, o);
}

void generate_battle(){
	
	int i;
	
	for(i = 0; i< 10; i++){
		if(i == 0) {			
			put_random_ship(4);
		} else if (i >= 1 && i <= 2) {
			put_random_ship(3);
		} else if (i >= 3 && i <= 5) {	
			put_random_ship(2);
		} else {
			put_random_ship(1);
		}
	}
}

void drawNum(int n, int x, int y, int offset){
	int i = 0;
	if(n == 0){
		i = 1;
		buffer[0] = '0';
	}
	while(n){
		buffer[i] = n % 10 + 48;
		i++;
		n = n / 10;
	}
	for(i--; i >= 0; i--){
		drawchar(buffer[i] , x, y);
		x += offset;
	}
}


int real_ship_size(int x, int y){
	int shoot;
	
	shoot = player1_field[x][y]
			
 	if(shoot < 0 ) {
		return shoot * (-1);
		
	} else if(shoot > 10) {
		return shoot / 10;
	
	} else if(shoot > 0 && shoot < 5) {
		return shoot;
		
	} else {
		return 0;
	}
}

void ship_mod(int ship_size, int sw) {

	if(sw == 1) {
		shoot_ship_count[ship_size] = shoot_ship_count[ship_size]+1;	
		if(shoot_ship_count[ship_size]%ship_size == 0 )
			ship_count[ship_size] = ship_count[ship_size] - 1;
	} else {
		drawstring("Trafiony   masztowy", 5, 112);
		drawNum(ship_size, 59, 112, 5);
	}
}

void check_shoot(int x, int y, int sw){

	setcolor(4);
	fillrect(2,106,125,125);
	setcolor(7);
		
	if(real_ship_size(x, y) != 0) {		
		ship_mod(real_ship_size(x, y), sw);
	} else {
		drawstring("PUDLO", 45, 112);
	}
}

void draw_battlefield(int cell_size, int offset_x, int offset_y, int color){
	int x,y;
	//clearscreen();
	
	setcolor(color);
	for(x = 0; x <= 10; x++)
		for(y = 0; y <= 10; y++){
			line(x * cell_size + offset_x, y * cell_size + offset_y, offset_x + x, y * cell_size + offset_y);
			line(x * cell_size + offset_x, offset_y + y, x * cell_size + offset_x, y * cell_size + offset_y);
		}
}

void draw_box(int x1, int y1, int x2, int y2, int color) {

		setcolor(color);
		fillrect(x1, y1, x2, y2);
			
		setcolor(15);
		line(x1, y1, x1, y2);
		line(x1, y1, x2, y1);
	
		setcolor(0);
		line(x2, y1, x2, y2);
		line(x1, y2, x2, y2);
}

void draw_score() {
		draw_box(103, 2, 127, 22, 5);
		putimage(bomb, 103, 1, 24, 15);
		
		setcolor(11);
		drawNum(shoots, 110, 13, 6);			
			
		//draw_box(103, 23, 127, 102, 4);
		
		draw_box(103, 23, 127, 42, 6);	
		setcolor(7);
		putimage(ship_c4, 103, 24, 24, 10);
		drawNum(ship_count[4], 114, 34, 5);
		
		draw_box(103, 43, 127, 62, 6);
		setcolor(7);
		putimage(ship_c3, 103, 44, 24, 10);
		drawNum(ship_count[3], 114, 54, 5);
		
		draw_box(103, 63, 127, 82, 6);
		setcolor(7);
		putimage(ship_c2, 103, 64, 23, 10);
		drawNum(ship_count[2], 114, 74, 5);
		
		draw_box(103, 83, 127, 103, 6);
		setcolor(7);
		putimage(ship_c1, 103, 84, 24, 10);
		drawNum(ship_count[1], 114, 94, 5);
}

void clear_ship_count(int fill) {
	int i;
	int v = 4;
	
	for(i = 1; i < 5; i++) {
		
		if(fill == 1) {
			ship_count[i] = v;
			v--;
		} else {
			ship_count[i] = 0;
		}
		shoot_ship_count[i] = 0;
	}
}

void clear_battlefield(){
	//clearscreen();
	for(int k=0; k<= 4; k++) {
		for(int s=0; s<= 4; s++) {
			putimage(sea[random(2)], X_OFF + s*20, Y_OFF + k*20, 20, 20);
		}
	}
	draw_battlefield(cell_size, offset_x, offset_y, 6);
}


int game(){
	int orient = 1, switch = 0;
	int ship_size = 4;
	
	while(1){
		


		if( (round == 1 || round == 3 || round == 6) && switch == 1){				
			spritesetvalue(ship_size, S_LIVES, 0);
			ship_size--;
			switch = 0;	
			refresh = 1;	
		}
		
		if(round == 10 && switch == 1){		
			spritesetvalue(ship_size, S_LIVES, 0);
			ship_size = 1;
			switch = 0;
			orient = 1;
			return 1;
		}
				
		if (refresh == 1) {
			if (orient == 1) {
				orient = 0;
				spritesetvalue(ship_size, S_ANGLE, 90);
				if(cy + ship_size > 9) cy = 10 - ship_size;
				
			} else {
				orient = 1;
				spritesetvalue(ship_size, S_ANGLE, 0);
				if(cx + ship_size > 9) cx = 10 - ship_size;
			}
			refresh = 0;
		}
		
		key = 0;
		delay(1);
		while(key == lastkey && delaykey > 0){
			delay(1);
			delaykey--;
			
			clear_battlefield();
			
			if(round < 10)
				redraw_ships();		
			redraw_shoots();
			delayredraw();
		}
		
		delaykey = 4;
		if(key != lastkey){
			lastkey = key;
			delaykey = 12;
		}
		
		if(key == KEY_DOWN && cy < 9){
			if(orient == 0 && cy < 10 - ship_size ) {
			 cy++;
			} else if (orient == 1 && cy < 9) {
			 cy++;
			}
		}
		
		if(key == KEY_UP && cy > 0){
			cy--;
		}
		
		if(key == KEY_RIGHT && cx < 9){
			if(orient == 1 && cx < 10 - ship_size ) {
			 cx++;
			} else if (orient == 0 && cx < 9) {
			 cx++;
			}
		}
		
		if(key == KEY_LEFT && cx > 0){
			cx--;
		}
		
		if(key == KEY_B){
			
			if (orient == 1) {
				orient = 0;
				spritesetvalue(ship_size, S_ANGLE, 90);
				if(cy + ship_size > 9) cy = 10 - ship_size;
				
			} else {
				orient = 1;
				spritesetvalue(ship_size, S_ANGLE, 0);
				if(cx + ship_size > 9) cx = 10 - ship_size;
			}
		}
		
		if(key == KEY_A){
			
			if(round < 10) {
				
					if(check_ship(cx, cy, ship_size, orient) == 0){
			
						if(orient == 1){
							putimage(ship_img1[ship_size], CELL_SIZE*cx+X_OFF, CELL_SIZE*cy+Y_OFF, 10*ship_size, 10);
						} else {
							putimage(ship_img2[ship_size], CELL_SIZE*cx+X_OFF, CELL_SIZE*cy+Y_OFF, 10, 10*ship_size);
						}
						
						player_save(cx, cy, ship_size, orient);
						ship_count[ship_size] = ship_count[ship_size] + 1;
						
						round++;
						switch = 1;
						loadrtttl(put, 0);
						playrtttl();				
					}
					
				} else {
		
					if(player1_field[cx][cy] != 0 && player1_field[cx][cy] != 9 && player1_shoot[cx][cy] == 0) {
						
						loadrtttl(boom, 0);
						playrtttl();
						putimage(fire[random(2)], CELL_SIZE*cx+X_OFF, CELL_SIZE*cy+Y_OFF, 10, 10);
						win++;
						player1_shoot[cx][cy] = 2;
						
						check_shoot(cx, cy, 1);
						
					} else if (player1_shoot[cx][cy] == 0){
						loadrtttl(splash, 0);
						playrtttl();
						putimage(mist, CELL_SIZE*cx+X_OFF+1, CELL_SIZE*cy+Y_OFF+1, 8, 8);
						shoots--;
						player1_shoot[cx][cy] = 1;
		
					}
					check_shoot(cx, cy, 0);				
				}
			}
		
		if(round < 10) {
			
			if (orient == 1) {
				putsprite(ship_size, X_OFF + cx * CELL_SIZE, Y_OFF + cy * CELL_SIZE);
			} else {
				putsprite(ship_size, cx * CELL_SIZE - pos_kor[ship_size] - (4 - X_OFF), cy * CELL_SIZE + pos_kor[ship_size] + 6 + Y_OFF );
		  	}
		} else {
			ship_size = 1;
			putsprite(5, X_OFF + cx * CELL_SIZE, Y_OFF + cy * CELL_SIZE);
			
		}
		

		draw_score();
		
		if(win == 20){
			return 3;
		}
		
		if(shoots < 1) {
			return 2;
		}

	}
	return 0;
}



void init(){
	
	round = 0;
 	shoots = SHOOTS;
 	win = 0;
	refresh = 1;
	cx = 0;
	cy = 0;
	key = 0;
	lastkey = 0; 
	
	//loadrtttl(song, 0);
	//playrtttl();
					
	clear_battlefield();	
	player_field_clear();
	clear_ship_count(1); //fill value

	getsprite(1, ship1);
	spritesetvalue(1, S_WIDTH, 10);
	spritesetvalue(1, S_HEIGHT, 9);
	
	getsprite(2, ship2);
	spritesetvalue(2, S_WIDTH, 20);
	spritesetvalue(2, S_HEIGHT, 9);
	
	getsprite(3, ship3);
	spritesetvalue(3, S_WIDTH, 30);
	spritesetvalue(3, S_HEIGHT, 9);
	
	getsprite(4, ship4);
	spritesetvalue(4, S_WIDTH, 40);
	spritesetvalue(4, S_HEIGHT, 9);
	
	getsprite(5, cursor);
	spritesetvalue(5, S_WIDTH, CELL_SIZE);
	spritesetvalue(5, S_HEIGHT, CELL_SIZE);
	spritesetvalue(5, S_LIVES, 0);
}

void menu(){
	delay(5);
	
	draw_box(0, 104, 127, 127, 4);
	//draw_box(103, 2, 127, 102, 4);
	
	
	setcolor(0);
	fillcircle(23, 116, 6);
	fillcircle(68, 116, 6);
	
	setcolor(5);
	fillcircle(22, 115, 6);
	
	setcolor(10);
	fillcircle(67, 115, 6);
	
	setcolor(1);
	drawstring("A GRAJ", 20, 112);
	drawstring("B USTAW", 65, 112);
	setcolor(10);
						
	while(getkey() !=  KEY_B && getkey() !=  KEY_A ){				
		clear_battlefield();
		delay(2);
		delayredraw();
	}
	if(getkey() == KEY_A){
		generate_battle();
		//redraw_ships();
		round = 10;
		refresh = 1;
		
		draw_box(0, 104, 127, 127, 4);
		
		setcolor(5);
		drawstring("STRZELAJ", 40, 112);
	}
	else if(getkey() == KEY_B){
		draw_box(0, 104, 127, 127, 4);
		setcolor(7);
		drawstring("Ustaw statki", 30, 112);
		clear_ship_count(0); //clear
		round = 0;
	}
	delay(20);	
}

void main(){	
			
	while(1){
			init();
			draw_score();
			menu();	
						
			while(getkey() != KEY_START){	
					
			switch (game()){
							
				case 1:
					loadrtttl(sndok, 0);
					playrtttl();
					
					draw_box(0, 104, 127, 127, 4);

					gotoxy(1, 14);
					
					spritesetvalue(5, S_LIVES, 0);
					
					setcolor(0);
					fillcircle(109, 116, 6);
					
					setcolor(10);
					fillcircle(108, 115, 6);
					
					setcolor(1);
					drawstring("Gotowe. Wcisnij B", 10, 112);
					while(getkey() != KEY_B){
						clear_battlefield();
						redraw_ships();
						//redraw_shoots();
						delay(2);
						delayredraw();
					}
					
					clear_battlefield();
					cx = 0;
					cy = 0;
					key = 0;
					lastkey = 0; 
					
					draw_box(0, 104, 127, 127, 4);
					
					setcolor(5);

					drawstring("STRZELAJ", 40, 112);
					delay(10);
					
					break;
				case 2:
					loadrtttl(sndok, 0);
					playrtttl();
					
					clear_battlefield();
					redraw_ships();
					redraw_shoots();
	
					draw_box(0, 104, 127, 127, 4);
	
					draw_score();
					fillelipse(86, 116, 6, 22, 0);		
					fillelipse(85, 115, 6, 22, 2);	
					setcolor(1);
					drawstring("START", 82, 112)		
									
					setcolor(13);
					drawstring("KONIEC GRY", 10, 112);

					spritesetvalue(5, S_LIVES, 0);
					
					while(getkey() != KEY_START){
						clear_battlefield();
						redraw_ships();
						redraw_shoots();
						delay(2);
						delayredraw();
					}
					
					break;
				case 3:
					loadrtttl(sndok, 0);
					playrtttl();
				
					draw_box(0, 104, 127, 127, 4);
					
					fillelipse(86, 116, 6, 22, 0);		
					fillelipse(85, 115, 6, 22, 2);	
					setcolor(1);
					drawstring("START", 82, 112)
						
					setcolor(7);
					drawstring("BRAWO !!!", 10, 112);
					
					spritesetvalue(5, S_LIVES, 0);
					
					while(getkey() != KEY_START){
						clear_battlefield();
						redraw_ships();
						redraw_shoots();
						delay(2);
						delayredraw();
					}
					
					break;
				
			}
			
			delayredraw();
		}
	
	}
}
